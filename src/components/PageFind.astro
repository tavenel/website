---
import Search from "astro-pagefind/components/Search";
---

<Search id="menu-search" className="pagefind-ui" uiOptions={{ showImages: true, showSubResults: true, translations: { placeholder: "Rechercher (CTRL/K)" } }} data-testid="menu-search"/>

<script>
function handleShortcut(event) {
	if (event.ctrlKey && event.key === 'k') {
		event.preventDefault();
		const items = document.getElementsByClassName("pagefind-ui__search-input");
		if (items && items.length === 1) {
			items[0].focus();
		} else {
			console.error("Expected to find exactly 1 search input, got", items);
		}
	}
}
document.addEventListener("keydown", handleShortcut);
</script>

